<!DOCTYPE html>
<meta charset="utf-8">
<link rel="stylesheet" type="text/css" href="../css/atlaspr.css">
<link href='http://fonts.googleapis.com/css?family=PT+Sans:400,700' rel='stylesheet' type='text/css'>
<script src="../../js/lib/d3.js"></script>
<script src="../js/lib/klass.js"></script>
<script src="../js/atlaspr.js"></script>
<body>
  <a href = '/'><h1 id = 'title'>Atlas PR<small>Free, open, interactive and detailed maps of Puerto Rico for your web applications.</small></h1></a>
  <h2>Examples<small>Click on their titles for more</small></h2>
  <a href = 'blank.html'><h3>Blank Maps</h3></a>
  <div id = 'borders' class = 'example'>
    <script type = 'text/javascript'>
      var node = document.getElementById("borders");
      var map = new AtlasPR({node: node, size: "medium", tiles: ['barrios','pueblos', 'isla']});
  	</script>
  </div>
  <a href = 'pueblos.html'><h3>Maps colored by municipalities</h3></a>
  <div id = 'pueblos' class = 'example'>
    <script type = 'text/javascript'>
      var pueblosnode = document.getElementById("pueblos");
      d3.json("../data/munidata.json", function(data){
        var party_datamap = {};
        data.forEach(function(pueblo){
          var fips_3digits = pueblo.fips.length == 1 ? ("00" + pueblo.fips) : 
            (pueblo.fips.length == 2 ? ("0" + pueblo.fips) : pueblo.fips);
          party_datamap[fips_3digits] = pueblo.party;
        });
        var party_map = new AtlasPR({node: pueblosnode, size: "medium",tiles: 'pueblos', on_ready: function(){
          party_map.encode_qual(party_datamap, {"PPD": "#ff0000", "PNP": "#0000ff"});
        }});
      });
    </script>
  </div>
  <a href = 'barrios.html'><h3>Maps colored by barrios</h3></a>
  <div id = 'barrios' class = 'example'>
    <script type = 'text/javascript'>
      var barrios = document.getElementById("barrios");
      d3.json("../data/barriosdata.json", function(data){
        var pob_datamap = {};
        data.forEach(function(barrio){
          if(barrio.below_poverty != null){
            pob_datamap[barrio.geo_id] = barrio.below_poverty;
          }
        });
        var pop_map = new AtlasPR({node: barrios, tiles: 'barrios', size: "medium", on_ready: function(){
          pop_map.encode_quan(pob_datamap);
        }});
      });
    </script>
  </div>
